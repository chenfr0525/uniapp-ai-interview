{"version":3,"file":"interview.js","sources":["pages/interview/interview.vue","D:/Program Files/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW50ZXJ2aWV3L2ludGVydmlldy52dWU"],"sourcesContent":["<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue'\r\n\timport {\r\n\t\tonLoad\r\n\t} from '@dcloudio/uni-app'\r\n\timport api from '@/api'\r\n\r\n\tconst question = ref({\r\n\t\tid: 1,\r\n\t\ttitle: ''\r\n\t})\r\n\r\n\tconst isRecording = ref(false)\r\n\tconst countdown = ref('1:00')\r\n\tlet timer = null\r\n\tlet recordingTimer = null\r\n\r\n\t// 开始录音\r\n\tconst startRecording = () => {\r\n\t\tisRecording.value = true\r\n\t\tstartCountdown()\r\n\r\n\t\t// 这里可以调用实际的录音API\r\n\t\t// uni.startRecord(...)\r\n\r\n\t\tconsole.log('开始录音')\r\n\t}\r\n\r\n\t// 结束录音\r\n\tconst stopRecording = () => {\r\n\t\tisRecording.value = false\r\n\t\tclearCountdown()\r\n\r\n\t\t// 这里可以调用停止录音API\r\n\t\t// uni.stopRecord(...)\r\n\r\n\t\tconsole.log('结束录音')\r\n\r\n\t\t// 模拟录音完成后跳转\r\n\t\tsetTimeout(() => {\r\n\t\t\tuni.redirectTo({\r\n\t\t\t\turl: `/pages/result/result?questionId=${question.value.id}` // 替换为你的结果页路径\r\n\t\t\t})\r\n\t\t}, 500)\r\n\t}\r\n\r\n\t// 倒计时\r\n\tconst startCountdown = () => {\r\n\t\tlet seconds = 60\r\n\t\ttimer = setInterval(() => {\r\n\t\t\tseconds--\r\n\t\t\tconst mins = Math.floor(seconds / 60)\r\n\t\t\tconst secs = seconds % 60\r\n\t\t\tcountdown.value = `${mins}:${secs < 10 ? '0' + secs : secs}`\r\n\r\n\t\t\tif (seconds <= 0) {\r\n\t\t\t\tstopRecording()\r\n\t\t\t}\r\n\t\t}, 1000)\r\n\t}\r\n\r\n\t// 清除倒计时\r\n\tconst clearCountdown = () => {\r\n\t\tif (timer) {\r\n\t\t\tclearInterval(timer)\r\n\t\t\ttimer = null\r\n\t\t}\r\n\t\tcountdown.value = '1:00'\r\n\t}\r\n\r\n\t// 防止用户触摸时移动手指\r\n\tconst handleTouchMove = (e) => {\r\n\t\tif (isRecording.value) {\r\n\t\t\te.preventDefault()\r\n\t\t}\r\n\t}\r\n\r\n\tonLoad(async (e) => {\r\n\t\tquestion.value.id = e.id\r\n\t\tconst res =await api.getQuestionById(question.value.id)\r\n\t\tquestion.value.title=res.content\r\n\t})\r\n</script>\r\n\r\n<template>\r\n\t<view class=\"interview-container\">\r\n\t\t<view class=\"interview-desc\">\r\n\t\t\t<view class=\"ai\">\r\n\t\t\t\t<image src=\"/static/images/AI.png\" mode=\"aspectFit\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"question\">问题:{{question.title}}</view>\r\n\t\t</view>\r\n\t\t<view class=\"dialog-box\">\r\n\t\t\t<view class=\"left box\">{{isRecording?'我正在认真听你说话':'长按话筒开始面试！'}}</view>\r\n\t\t\t<view class=\"right box\" v-if=\"isRecording\">\r\n\t\t\t\t倒计时：{{countdown}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"footer-container\">\r\n\t\t\t<view class=\"button\" :class=\"{active:isRecording} \" @touchstart=\"startRecording\" @touchend=\"stopRecording\"\r\n\t\t\t\t@touchcancel=\"stopRecording\" @touchmove=\"handleTouchMove\">\r\n\t\t\t\t<uni-icons :type=\"isRecording?'mic-filled':'mic'\" size=\"60\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.interview-container {\r\n\t\twidth: 100%;\r\n\t\theight: 100vh;\r\n\t\tbackground: #f7f7f7;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t.interview-desc {\r\n\t\t\theight: 400rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tgap: 30rpx;\r\n\r\n\t\t\t.ai {\r\n\t\t\t\twidth: 240rpx;\r\n\t\t\t\theight: 240rpx;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.question {\r\n\t\t\t\theight: 40rpx;\r\n\t\t\t\tfont-size: 35rpx;\r\n\t\t\t\tcolor: #010204;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.dialog-box {\r\n\t\t\theight: 300rpx;\r\n\t\t\tpadding: 20rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tgap: 20rpx;\r\n\r\n\t\t\t.box {\r\n\t\t\t\tborder-radius: 30rpx;\r\n\t\t\t\tpadding: 20rpx 36rpx;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.left {\r\n\t\t\t\talign-self: flex-start;\r\n\t\t\t\tbackground-color: #F8FC61;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\talign-self: flex-end;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.footer-container {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\twidth: 100%;\r\n\r\n\t\t\t.button {\r\n\t\t\t\twidth: 260rpx;\r\n\t\t\t\theight: 260rpx;\r\n\t\t\t\tbackground: linear-gradient(to bottom, rgb(229, 250, 114), #e8e9d2);\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbox-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n\t\t\t\ttransition: background 0.2s, box-shadow 0.2s;\r\n\t\t\t\tcolor: #4E5969;\r\n\r\n\t\t\t\t&.active {\r\n\t\t\t\t\tbackground: linear-gradient(to bottom, rgb(229, 250, 114), #aeaf9e);\r\n\t\t\t\t\tbox-shadow: 0 0 5px rgba(0, 0, 0, 0.1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/23212/Desktop/uniapp-demo/uniapp-ai-interview/pages/interview/interview.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onLoad","api"],"mappings":";;;;;;;;;;;;;;;AASC,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACpB,IAAI;AAAA,MACJ,OAAO;AAAA,IACT,CAAE;AAED,UAAM,cAAcA,cAAG,IAAC,KAAK;AAC7B,UAAM,YAAYA,cAAG,IAAC,MAAM;AAC5B,QAAI,QAAQ;AAIZ,UAAM,iBAAiB,MAAM;AAC5B,kBAAY,QAAQ;AACpB,qBAAgB;AAKhBC,oBAAAA,0DAAY,MAAM;AAAA,IAClB;AAGD,UAAM,gBAAgB,MAAM;AAC3B,kBAAY,QAAQ;AACpB,qBAAgB;AAKhBA,oBAAAA,0DAAY,MAAM;AAGlB,iBAAW,MAAM;AAChBA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK,mCAAmC,SAAS,MAAM,EAAE;AAAA;AAAA,QAC7D,CAAI;AAAA,MACD,GAAE,GAAG;AAAA,IACN;AAGD,UAAM,iBAAiB,MAAM;AAC5B,UAAI,UAAU;AACd,cAAQ,YAAY,MAAM;AACzB;AACA,cAAM,OAAO,KAAK,MAAM,UAAU,EAAE;AACpC,cAAM,OAAO,UAAU;AACvB,kBAAU,QAAQ,GAAG,IAAI,IAAI,OAAO,KAAK,MAAM,OAAO,IAAI;AAE1D,YAAI,WAAW,GAAG;AACjB,wBAAe;AAAA,QACf;AAAA,MACD,GAAE,GAAI;AAAA,IACP;AAGD,UAAM,iBAAiB,MAAM;AAC5B,UAAI,OAAO;AACV,sBAAc,KAAK;AACnB,gBAAQ;AAAA,MACR;AACD,gBAAU,QAAQ;AAAA,IAClB;AAGD,UAAM,kBAAkB,CAAC,MAAM;AAC9B,UAAI,YAAY,OAAO;AACtB,UAAE,eAAgB;AAAA,MAClB;AAAA,IACD;AAEDC,kBAAM,OAAC,OAAO,MAAM;AACnB,eAAS,MAAM,KAAK,EAAE;AACtB,YAAM,MAAK,MAAMC,sBAAG,QAAC,gBAAgB,SAAS,MAAM,EAAE;AACtD,eAAS,MAAM,QAAM,IAAI;AAAA,IAC3B,CAAE;;;;;;;;;;;;;;;;;;;;;;;;AClFF,GAAG,WAAW,eAAe;"}